# Makefile for swish-e 2.1
#
# Bas Meijer, bas@antraciet.com 11 Dec 2000

# $Id$

SHELL       = /bin/sh
srcdir      = @srcdir@
VPATH       = $(srcdir)
prefix      = @prefix@
exec_prefix = @exec_prefix@
bindir      = $(prefix)/bin
mandir      = $(prefix)/man/man1
perl        = @PERL@
libdir      = @libdir@

all:	swish-e swish-search
	@echo -e '\nNow make test\n'
	
swish-e:	
	@echo 'making swish-e'
	(cd src; make)
	@echo 'swish-e done'

swish-search: swish-e
	@echo 'making swish-search'
	cp -f src/swish-e src/swish-search
	@echo 'swish-search done'


perllib:
	@echo 'making Perl library for Swish-E'
	(cd perl;$(perl) Makefile.PL PREFIX=$(libdir);make) 


clean:
	-(cd src; make clean)
	-(cd perl; make clean)
	-(cd doc; make clean)

realclean: clean
	rm -f config.cache config.log config.status Makefile
	-(cd src; make realclean)
	-(cd perl; make realclean)
	-(cd doc; make realclean)


test:
	(cd src; make test)

install:
	cp src/swish-e $(bindir)/swish-e

install-lib:
	cp src/libswish-e.a $(libdir)/libswish-e.a

pdf:
	(cd doc; make pdf)

install-man:
	(cd doc; make install-man)
