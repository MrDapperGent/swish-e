<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<html>
  <head>
   <title>SWISH-Enhanced:  SWISH-RUN - Running Swish and Command Line Switches </title>
   <link href="./style.css" rel=stylesheet type="text/css" title="refstyle">
  </head>
  <body>

    <h1 class="banner">
        <img src="images/swish.gif" alt="Swish-E Logo"><br>
        <img src="images/swishbanner1.gif"><br>
        <img src="images/dotrule1.gif"><br>
         SWISH-RUN - Running Swish and Command Line Switches 
    </h1>

    <hr>

    <p>
    <div class="navbar">
      <a href="./INSTALL.html">Prev</a> |
      <a href="./index.html">Contents</a> |
      <a href="./SWISH-CONFIG.html">Next</a>
    </div>
    <p>

    <div class="toc">
      
<A NAME="toc"></A>
<P><B>Table of Contents:</B></P>

<UL>

	<LI><A HREF="#OVERVIEW">OVERVIEW</A>
	<LI><A HREF="#INDEXING">INDEXING</A>
	<UL>

		<LI><A HREF="#Indexing_Command_Line_Arguments">Indexing Command Line Arguments</A>
	</UL>

	<LI><A HREF="#SEARCHING">SEARCHING</A>
	<UL>

		<LI><A HREF="#Searching_Command_Line_Arguments">Searching Command Line Arguments</A>
	</UL>

	<LI><A HREF="#OTHER_SWITCHES">OTHER SWITCHES</A>
	<LI><A HREF="#Merging_Index_Files">Merging Index Files</A>
	<LI><A HREF="#Document_Info">Document Info</A>
</UL>

    </div>

    

	    [ <B><FONT SIZE=-1><A HREF="#toc">TOC</A></FONT></B> ]
<HR>

<P>
<H1><A NAME="OVERVIEW">OVERVIEW</A></H1>
<P>
The SWISH-E program is controlled by command line arguments (called <EM>switches</EM>). Often, SWISH-E is run manually from a shell (command prompt), or from a
program such as a CGI script that passes the command line arguments to
swish.

<P>
Note: A number of the command line switches may be specified in the SWISH-E
configuration file specified with the <CODE>-c</CODE> command line argument. Please see <A HREF="././SWISH-CONFIG.html">SWISH-CONFIG</A> for a complete description of available configuration file directives.

<P>
There are two basic operating modes of SWISH-E: indexing and searching.
There are command line arguments that are unique to each mode, and others
that apply to both (yet may have different meaning depending on the
operating mode). These command line arguments are listed below, grouped by:

<P>
<A HREF="#INDEXING">INDEXING</A> -- describes the command line arguments used while indexing.

<P>
<A HREF="#SEARCHING">SEARCHING</A> -- lists the command line arguments used while searching.

<P>
<A HREF="#OTHER_SWITCHES">OTHER SWITCHES</A> -- lists switches that don't apply to searching or indexing.

<P>
Beginning with SWISH-E version 2.1, you may embed the SWISH-E search engine
into your applications. Please see <A HREF="././SWISH-LIBRARY.html">SWISH-LIBRARY</A>.

<P>
[ <B><FONT SIZE=-1><A HREF="#toc">TOC</A></FONT></B> ]
<HR>
<H1><A NAME="INDEXING">INDEXING</A></H1>
<P>
Swish indexing is initiated by passing <EM>command line arguments</EM> to swish. The command line arguments used for <EM>searching</EM> are described in <A HREF="#SEARCHING">SEARCHING</A>. Also, see <A HREF="././SWISH-SEARCH.html">SWISH-SEARCH</A> for examples of searching with SWISH-E.

<P>
SWISH-E usage:

<P>

    <table>
      <tr>

	<td bgcolor="#eeeeee" width="1">
	  &nbsp;
        </td>

	<td>
	  <pre>    swish-e [-i dir file ... ] [-c file] [-f file] [-l] [-v (num)] [-S method(fs)]</pre>
        </td>
	    
      </tr>
    </table>
    <P>
The <CODE>-h</CODE> switch (help) will list the available SWISH-E command line arguments:

<P>

    <table>
      <tr>

	<td bgcolor="#eeeeee" width="1">
	  &nbsp;
        </td>

	<td>
	  <pre>    swish-e -h</pre>
        </td>
	    
      </tr>
    </table>
    <P>
Typically, most if not all indexing settings are placed in a configuration
file (specified with the <CODE>-c</CODE> switch). Once the configuration file is setup indexing is initiated as:

<P>

    <table>
      <tr>

	<td bgcolor="#eeeeee" width="1">
	  &nbsp;
        </td>

	<td>
	  <pre>    swish-e -c /path/to/config/file</pre>
        </td>
	    
      </tr>
    </table>
    <P>
See <A HREF="././SWISH-CONFIG.html">SWISH-CONFIG</A> for information on the configuration file.

<P>
Security Note: If the swish binary is named <CODE>swish-search</CODE> then swish will not allow any operation that would cause swish to write to
the index file.

<P>
[ <B><FONT SIZE=-1><A HREF="#toc">TOC</A></FONT></B> ]
<HR>
<H2><A NAME="Indexing_Command_Line_Arguments">Indexing Command Line Arguments</A></H2>
<DL>
<P><DT><STRONG><A NAME="item__i">-i *directories and/or files* (input file)</A></STRONG><DD>
<P>
This specifies the directories and/or files to index. Directories will be
indexed recursively. This is typically specified in the <A HREF="././SWISH-CONFIG.html">configuration file</A> with the <STRONG>IndexDir</STRONG> directive instead of on the command line.

<P><DT><STRONG><A NAME="item__S">-S [fs|http] (indexing mode)</A></STRONG><DD>
<P>
This specifies the method to use for indexing. Can be either <CODE>fs</CODE> for local indexing (the default), or <CODE>http</CODE> for spidering.

<P>
Currently, there are a number of special <A HREF="././SWISH-CONFIG.html">configuration file</A> directives that control the HTTP indexing method.

<P><DT><STRONG><A NAME="item__f">-f *indexfile* (index file)</A></STRONG><DD>
<P>
If you are indexing, this specifies the file to save the generated index
in, and you can only specify one file. See also <STRONG>IndexFile</STRONG> in the <A HREF="././SWISH-CONFIG.html">configuration file</A>.

<P>
If you are searching, this specifies the index files (one or more) to
search from. The default index file is index.swish-e in the current
directory.

<P><DT><STRONG><A NAME="item__c">-c *file ...* (configuration files)</A></STRONG><DD>
<P>
Specify the configuration <CODE>file(s)</CODE> to use for indexing. This
file contains many directives that control how SWISH-E proceeds. See <A HREF="././SWISH-CONFIG.html">SWISH-CONFIG</A> for a complete listing of configuration file directives.

<P>
Example:

<P>

    <table>
      <tr>

	<td bgcolor="#eeeeee" width="1">
	  &nbsp;
        </td>

	<td>
	  <pre>    swish-e -c docs.conf</pre>
        </td>
	    
      </tr>
    </table>
    <P>
If you specify a directory to index, an index file, or the verbose option
on the command-line, these values will override any specified in the
configuration file.

<P>
You can specify multiple configuration files. For example, you may have one
configuration file that has common site-wide settings, and another for a
specific index.

<P>
Examples:

<P>

    <table>
      <tr>

	<td bgcolor="#eeeeee" width="1">
	  &nbsp;
        </td>

	<td>
	  <pre>    1) swish-e -c swish-e.conf
    2) swish-e -i /usr/local/www -f index.swish-e -v -c swish-e.conf
    3) swish-e -c swish-e.conf stopwords.conf</pre>
        </td>
	    
      </tr>
    </table>
    <OL>
<P><LI>
<P>
The settings in the configuration file will be used to index a site.

<P><LI>
<P>
These command-line options will override anything in the configuration
file.

<P><LI>
<P>
The variables in swish-e.conf will be read, then the variable in
stopwords.conf will be read. Note that if the same variables occur in both
files, older values may be written over.

</OL>
<P><DT><STRONG><A NAME="item__e">-e (economy mode)</A></STRONG><DD>
<P>
For large sites indexing may require more RAM than is available. The <CODE>-e</CODE> switch tells swish to use disk space to store data structures while
indexing, saving memory. This option is recommended if swish uses so much
RAM that the computer begins to swap excessively.

<P><DT><STRONG><A NAME="item__l">-l (symbolic links)</A></STRONG><DD>
<P>
Specifying this option tells swish to follow symbolic links when indexing.
The configuration file value <STRONG>FollowSymLinks</STRONG> will currently override the command-line value.

<P><DT><STRONG><A NAME="item__v">-v [0|1|2|3] (verbosity level)</A></STRONG><DD>
<P>
The -v option can take a numerical value from 0 to 3. Specify 0 for
completely silent operation and 3 for detailed reports. If no value is
given then 3 is assumed. See also <STRONG>IndexReport</STRONG> in the <A HREF="././SWISH-CONFIG.html">configuration file</A>.

</DL>
<P>
[ <B><FONT SIZE=-1><A HREF="#toc">TOC</A></FONT></B> ]
<HR>
<H1><A NAME="SEARCHING">SEARCHING</A></H1>
<P>
The following command line arguments are available when searching with
SWISH-E. These switches are used to select the index to search, what fields
to search, and how and what to print as results.

<P>
This section just lists the available command line arguments and their
usage. Please see <A HREF="././SWISH-SEARCH.html">SWISH-SEARCH</A> for detailed searching instructions.

<P>
<STRONG>Warning</STRONG>: If using SWISH-E via a CGI interface, please see <A HREF="././SWISH-SEARCH.html#CGI_Danger_">CGI Danger!</A>



<P>
Security Note: If the swish binary is named <CODE>swish-search</CODE> then swish will not allow any operation that would cause swish to write to
the index file.

<P>
[ <B><FONT SIZE=-1><A HREF="#toc">TOC</A></FONT></B> ]
<HR>
<H2><A NAME="Searching_Command_Line_Arguments">Searching Command Line Arguments</A></H2>
<DL>
<P><DT><STRONG><A NAME="item__w">-w *word1 word2 ...*  (query words)</A></STRONG><DD>
<P>
This performs a case-insensitive search using a number of keywords. If no
index file to search is specified (via the <CODE>-f</CODE> switch), swish-e will try to search a file called index.swish-e in the
current directory.

<P>

    <table>
      <tr>

	<td bgcolor="#eeeeee" width="1">
	  &nbsp;
        </td>

	<td>
	  <pre>    swish-e -w word</pre>
        </td>
	    
      </tr>
    </table>
    <P>
Phrase searching is accomplished by placing the quote delimiter (a
double-quote by default) around the search phrase.

<P>

    <table>
      <tr>

	<td bgcolor="#eeeeee" width="1">
	  &nbsp;
        </td>

	<td>
	  <pre>    swish-e -w 'word or &quot;this phrase&quot;'</pre>
        </td>
	    
      </tr>
    </table>
    <P>
Search would should be protected from the shell by quotes. Typically, this
is single quotes when running under Unix. Under Windows you will may not
need to use quotes, but you will need to backslash the quotes used to
delimit phrases:

<P>

    <table>
      <tr>

	<td bgcolor="#eeeeee" width="1">
	  &nbsp;
        </td>

	<td>
	  <pre>    swihs-e -w \&quot;a phrase\&quot;</pre>
        </td>
	    
      </tr>
    </table>
    <P>
The search may be limited to a <EM>MetaName</EM>. For example:

<P>

    <table>
      <tr>

	<td bgcolor="#eeeeee" width="1">
	  &nbsp;
        </td>

	<td>
	  <pre>    swish-e -w meta1=(foo or baz)</pre>
        </td>
	    
      </tr>
    </table>
    <P>
will only search within the <STRONG>meta1</STRONG> tag.    

<P><DT><STRONG>-f *file1 file2 ...* (index files)</STRONG><DD>
<P>
Specifies the index <CODE>file(s)</CODE> used while searching. More than
one file may be listed, and each file will be searched. If no <CODE>-f</CODE> switch is specified then the file <EM>index.swish-e</EM> in the current directory will be used as the index file.

<P><DT><STRONG><A NAME="item__m">-m *number* (max results)</A></STRONG><DD>
<P>
While searching, this specifies the maximum number of results to return.
The default is to return all results.

<P>
This switch is often used in conjunction with the <CODE>-b</CODE> switch to return results one page at a time (strongly recommended for large
indexes).

<P><DT><STRONG><A NAME="item__b">-b *number* (beginning result)</A></STRONG><DD>
<P>
Sets the <EM>begining</EM> search result to return (records are numbered from 1). This switch can be
used with the <CODE>-m</CODE> switch to return results in groups or pages.

<P>
Example:

<P>

    <table>
      <tr>

	<td bgcolor="#eeeeee" width="1">
	  &nbsp;
        </td>

	<td>
	  <pre>    swish-e -w 'word' -b 1 -m 20    # first 'page'
    swish-e -w 'word' -b 21 -m 20   # second 'page'</pre>
        </td>
	    
      </tr>
    </table>
    <P><DT><STRONG><A NAME="item__t">-t HBthec (context searching)</A></STRONG><DD>
<P>
The -t option allows you to search for words that exist only in specific
HTML tags. Each character in the string you specify in the argument to this
option represents a different tag in which to search for the word. H means
all HEAD tags, B stands for BODY tags, t is all TITLE tags, h is H1 to H6
(header) tags, e is emphasized tags (this may be B, I, EM, or STRONG), and
c is HTML comment tags

<P>

    <table>
      <tr>

	<td bgcolor="#eeeeee" width="1">
	  &nbsp;
        </td>

	<td>
	  <pre>    # search only in &lt;H?&gt; tags
    swish-c -w word -t h</pre>
        </td>
	    
      </tr>
    </table>
    <P><DT><STRONG><A NAME="item__d">-d *string* (delimiter)</A></STRONG><DD>
<P>
Set the delimiter used when printing results. By default, SWISH-E separates
the output fields by a space, and places double-quotes around the document
title. This output may be hard to parse, so it is recommended to use <CODE>-d</CODE> to specify a character or string used as a separator between fields.

<P>
The string <CODE>dq</CODE> means ``double-quotes''. Not sure why it's needed.
<STRONG>How about entering '\t' or 'tab' for a tab?</STRONG>



<P>

    <table>
      <tr>

	<td bgcolor="#eeeeee" width="1">
	  &nbsp;
        </td>

	<td>
	  <pre>    swish-e -w word -d ,    # single char
    swish-e -w word -d ::   # string
    swish-e -w word -d '&quot;'  # double quotes under Unix
    swish-e -w word -d \&quot;   # double quotes under Windows
    swish-e -w word -d dq   # double quotes
    </pre>
        </td>
	    
      </tr>
    </table>
    <P><DT><STRONG><A NAME="item__p">-p *property1 property2 ...*  (display properties)</A></STRONG><DD>
<P>
This causes swish to print the listed property in the search results. The
properties are returned in the order they are listed in the <CODE>-p</CODE> argument.

<P>
Properties are defined by the <STRONG>ProperNames</STRONG> directive in the configuration file (see <A HREF="././SWISH-CONFIG.html">SWISH-CONFIG</A>) and properties must also be defined in <STRONG>MetaNames</STRONG>. Swish stores the text of the meta name as a <EM>property</EM>, and then will return this text while searching if this option is used.

<P>
This feature is very useful for returning data included in a source
documnet without having to re-read the source document while searching. For
example, this could be used to return a short document description. See
also see <STRONG>Document Summeries</STRONG> in <A HREF="././SWISH-CONFIG.html">SWISH-CONFIG</A>.

<P>
To return the subject and category properties while indexing.

<P>

    <table>
      <tr>

	<td bgcolor="#eeeeee" width="1">
	  &nbsp;
        </td>

	<td>
	  <pre>    swish-e -w word -p subject category</pre>
        </td>
	    
      </tr>
    </table>
    <P>
NOTE: it is necessary to have indexed with the proper PropertyNames
directive in the user config file in order to use this option.

<P><DT><STRONG><A NAME="item__s">-s *property [asc|desc] ...*  (sort)</A></STRONG><DD>
<P>
Normally, search results are printed out in order of relevancy, with the
most relevant listed first. The <CODE>-s</CODE> sort switch allows you to sort results in order of a specified <EM>property</EM>, where a <EM>property</EM>
was defined using the <STRONG>MetaNames</STRONG> and <STRONG>PropertyNames</STRONG> directives during indexing (see <A HREF="././SWISH-CONFIG.html">SWISH-CONFIG</A>).

<P>
The string passed can include the strings <CODE>asc</CODE> and <CODE>desc</CODE> to specify the sort order, and more than one property may be specified to
sort on more than one key.

<P>
Examples:

<P>

    <table>
      <tr>

	<td bgcolor="#eeeeee" width="1">
	  &nbsp;
        </td>

	<td>
	  <pre>    # sort by title property ascending order
    -s title</pre>
        </td>
	    
      </tr>
    </table>
    <P>

    <table>
      <tr>

	<td bgcolor="#eeeeee" width="1">
	  &nbsp;
        </td>

	<td>
	  <pre>    # sort descending by title, ascending by name
    -s title desc name asc</pre>
        </td>
	    
      </tr>
    </table>
    <P><DT><STRONG><A NAME="item__x">-x (extra output)</A></STRONG><DD>
<P>
The <CODE>-x</CODE> switch causes SWISH-E to output extra information with each result.

<P>
Normally, swish reports on a single line (see the <CODE>-d</CODE> delimiter switch):

<P>

    <table>
      <tr>

	<td bgcolor="#eeeeee" width="1">
	  &nbsp;
        </td>

	<td>
	  <pre>    rank
    file name (or url)
    title from document
    file size
    properties (if -p used)</pre>
        </td>
	    
      </tr>
    </table>
    <P>
With <CODE>-x</CODE> swish reports:

<P>

    <table>
      <tr>

	<td bgcolor="#eeeeee" width="1">
	  &nbsp;
        </td>

	<td>
	  <pre>    rank
    the index file (useful when searching multiple indexes)
    File Name (or url)
    title from document
    document summary (xxx to be announced)
    offset into file (to handle multiple documents within a single file)
    file size
    properties (if -p used)
    
=item -v 4 (verbosity level)</pre>
        </td>
	    
      </tr>
    </table>
    <P>
If set to <CODE>-v 4</CODE> while searching, SWISH-E will print additional diagnostic information in
the header of the results.

</DL>
<P>
[ <B><FONT SIZE=-1><A HREF="#toc">TOC</A></FONT></B> ]
<HR>
<H1><A NAME="OTHER_SWITCHES">OTHER SWITCHES</A></H1>
<DL>
<P><DT><STRONG><A NAME="item__D">-D *index file*  (debug index)</A></STRONG><DD>
<P>
This option is provided so you can check the word, file, and maintenance
information in index files. You can specify multiple files to decode. Use
with <CODE>-v 4</CODE> for even more output.

<P>
A lot of information is printed, so use with caution.

<P><DT><STRONG><A NAME="item__V">-V (version)</A></STRONG><DD>
<P>
Print the current version.

<P><DT><STRONG><A NAME="item__k">-k *letter* (print out keywords)</A></STRONG><DD>
<P>
The <CODE>-k</CODE> switch is used for testing and will cause swish to print out all keywords
in the index beginning with that letter.

</DL>
<P>
[ <B><FONT SIZE=-1><A HREF="#toc">TOC</A></FONT></B> ]
<HR>
<H1><A NAME="Merging_Index_Files">Merging Index Files</A></H1>
<P>
At times it can be useful to merge different index files into one file for
searching. This could be because you want to keep separate site indexes and
a common one for a global search, or because your site is very large and
Swish-e runs out of memory if you try to index it directly.

<P>
You should try to merge only indexes that were indexed with common
settings. Otherwise results may be confusing (e.g. don't mix stemming and
non-stemming indexes, or indexes with different WordCharacter settings).

<P>

    <table>
      <tr>

	<td bgcolor="#eeeeee" width="1">
	  &nbsp;
        </td>

	<td>
	  <pre>  usage: swish-e [-v (num)] [-c file] -M index1 index2 ... outputfile</pre>
        </td>
	    
      </tr>
    </table>
    <DL>
<P><DT><STRONG><A NAME="item__M">-M *file file ...* (merge)</A></STRONG><DD>
<P>
This allows you to merge two or more index files - the last file you
specify on the list will be the output file.

<P>
Merging removes all redundant file and word data. To estimate how much
memory the operation will need, sum up the sizes of the files to be merged
and divide by two. That's about the maximum amount of memory that will be
used.

<P>
You can use the -v option to produce feedback while merging and the -c
option with a configuration file to include new administrative information
in the new index file.

<P><DT><STRONG>-c *configuration file*</STRONG><DD>
<P>
Specify a configuration file while indexing to add administrative
information to the output index file.

</DL>
<P>
[ <B><FONT SIZE=-1><A HREF="#toc">TOC</A></FONT></B> ]
<HR>
<H1><A NAME="Document_Info">Document Info</A></H1>
<P>
$Id$

<P>
.

[ <B><FONT SIZE=-1><A HREF="#toc">TOC</A></FONT></B> ]
<HR>



    <p>
    <div class="navbar">
      <a href="./INSTALL.html">Prev</a> |
      <a href="./index.html">Contents</a> |
      <a href="./SWISH-CONFIG.html">Next</a>
    </div>
    <p>

    <P ALIGN="CENTER">
    <IMG ALT="" WIDTH="470" HEIGHT="10" SRC="images/dotrule1.gif"></P>
    <P ALIGN="CENTER">

    <div class="footer">
        Copyright (C) 1995, 1996, 1997, 1998, 1999, 2000 Hewlett-Packard Company<BR>
        Originally by Kevin Hughes, kev@kevcom.com, March 11, 1994.
        <BR>SWISH-E is distributed with <B>no warranty</B> under the terms of the <A 
        HREF="http://www.fsf.org/copyleft/gpl.html">GNU Public License</A>,<BR>
        Free Software Foundation, Inc., 
        59 Temple Place - Suite 330, Boston, MA  02111-1307, USA<BR> 
        Public questions may be posted to 
        the <A HREF="http://sunsite.berkeley.edu/SWISH-E/Discussion/">SWISH-E Discussion</A>.
    </div>

</body>
</html>
